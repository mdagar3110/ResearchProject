"use strict";define("quickActionBar/components/quickAction",["lodash","react"],function(i,t){return t.createClass({propTypes:{svgString:t.PropTypes.string.isRequired,fillColor:t.PropTypes.string.isRequired,backgroundColor:t.PropTypes.string.isRequired,textColor:t.PropTypes.string.isRequired,text:t.PropTypes.string.isRequired,anchorData:t.PropTypes.object,clickHandler:t.PropTypes.func,notificationCount:t.PropTypes.number},render:function(){return t.DOM.a(i.assign({},this.props.anchorData,{"data-quick-action":"action",style:{backgroundColor:this.props.backgroundColor,color:this.props.textColor},onClick:this.props.clickHandler}),[t.DOM.div({"data-quick-action":"icon",key:"icon",style:{fill:this.props.fillColor},dangerouslySetInnerHTML:{__html:this.props.svgString}},null),t.DOM.div({"data-quick-action":"text",key:"text"},this.props.text),t.DOM.div({"data-quick-action":"notifications",key:"notifications",style:{display:i.get(this.props,"notificationCount",0)>0?"initial":"none"}},null)])}})}),define("quickActionBar/utils/quickActionUtils",["lodash"],function(i){function t(t){var e=n.exec(i.trim(t));return{type:i.get(e,[1],"brand"),invert:!!i.get(e,[2])}}function e(e,n){var r=t(n),c=i.get(o,r.type);return r.invert?{fillColor:"#fff",backgroundColor:c||e,textColor:"#fff"}:{fillColor:c||e,backgroundColor:"#fff",textColor:c||"#000"}}var o={black:"#000",grey:"#888"},n=/^(brand|grey|black)(?:\s(inv))?$/;return{resolveIconColors:e}}),define("quickActionBar/bi/events.json",[],function(){return{DYNAMIC_QUICK_ACTION_CLICK:{eventId:385,adapter:"ugc-viewer",params:{site_id:"site_id",appDefinitionId:"appDefinitionId"}}}}),define("quickActionBar/utils/quickActionBarDataRequirementsChecker",["core","lodash","utils"],function(i,t,e){function o(i,t){var e="svgshape.v2.Svg_"+t;return s.createSvgFetchRequest(i.serviceTopology.mediaRootUrl,i,e)}function n(i){var e=t.map(i.getClientSpecMap(),"appDefinitionId");return t(a).values().filter(function(i){return t.includes(e,i.appId)}).map(function(t){return o(i,t.icon)}).compact().value()}function r(i,e){return t.compact([o(i,e.data.icon)])}var c=i.dataRequirementsChecker,s=e.svg,a=e.constants.SUPPORTED_DYNAMIC_ACTIONS;c.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBarItem",r),c.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBar",n)}),define("quickActionBar/components/quickActionBar",["lodash","react","core","santaProps","quickActionBar/components/quickAction","quickActionBar/utils/quickActionUtils","quickActionBar/bi/events.json","quickActionBar/utils/quickActionBarDataRequirementsChecker"],function(i,t,e,o,n,r,c){return{displayName:"QuickActionBar",mixins:[e.compMixins.skinBasedComp],propTypes:{reportBI:o.Types.reportBI.isRequired,compProp:o.Types.Component.compProp.isRequired,colorScheme:o.Types.Component.styleParam("colorScheme"),isZoomed:o.Types.mobile.isZoomed.isRequired,isPreviewMode:o.Types.isPreviewMode.isRequired,siteScrollingBlocker:o.Types.SiteAspects.siteScrollingBlocker.isRequired,dynamicActions:o.Types.QuickActions.dynamicActions.isRequired,componentViewMode:o.Types.RenderFlags.componentViewMode},getDefaultProps:function(){return{colorScheme:"brand inv"}},getInitialState:function(){return{isOpen:!1}},isForcedOpen:function(){return i.isFunction(this.getComponentPreviewState)&&"open"===this.getComponentPreviewState()},isOpen:function(){return this.isForcedOpen()||this.state.isOpen&&"editor"!==this.props.componentViewMode},toggleActionBar:function(){this.setState({isOpen:!this.state.isOpen})},componentDidUpdate:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,this.isOpen())},createActionClickHandler:function(t){return i.isFunction(this.createActionClickHandlerInPreview)?this.createActionClickHandlerInPreview:function(){this.props.reportBI(c.DYNAMIC_QUICK_ACTION_CLICK,{site_id:this.props.siteId,appDefinitionId:t}),this.handleAction(t)}.bind(this)},createSingleDynamicAction:function(e){var o=r.resolveIconColors(e.color,this.props.colorScheme.trim()),c=i.assign({},i.pick(e,["text","svgString","notificationCount"]),i.pick(o,["fillColor","backgroundColor","textColor"]),{clickHandler:this.createActionClickHandler(e.appId)});return t.createElement(n,c)},createDynamicActions:function(){return i.map(this.props.dynamicActions,this.createSingleDynamicAction)},getActionCount:function(){return i.get(this.props,"children.length",0)+this.props.dynamicActions.length},getRootClasses:function(){var i={"hide-text":this.props.compProp.hideText,closed:!this.isOpen()};return i["align-"+this.props.compProp.alignment]=!0,i["action-count-"+this.getActionCount()]=!0,i},getChildren:function(){var e=t.Children.map(this.props.children,function(i){var e={colorScheme:this.props.colorScheme.trim()};return t.cloneElement(i,e)},this);return i(this.createDynamicActions()).concat(e).take(5).value()},getSkinProperties:function(){return{"":{style:{display:this.props.isZoomed()&&!this.props.isPreviewMode?"none":""},className:this.classSet(this.getRootClasses())},overlay:{onClick:this.toggleActionBar},controlButton:{onClick:this.toggleActionBar},actionsContainer:{children:this.getChildren()}}}}}),define("quickActionBar/components/quickActionBarItem",["lodash","react","core","utils","santaProps","quickActionBar/components/quickAction","quickActionBar/utils/quickActionUtils"],function(i,t,e,o,n,r,c){var s=o.linkRenderer;return{displayName:"QuickActionBarItem",mixins:[e.compMixins.skinBasedComp],propTypes:{structuredAction:n.Types.QuickActions.structuredAction.isRequired,linkRenderInfo:n.Types.Link.linkRenderInfo,rootNavigationInfo:n.Types.Component.rootNavigationInfo,colorScheme:t.PropTypes.string},createAction:function(){var e=c.resolveIconColors(this.props.structuredAction.color,this.props.colorScheme),o=i.assign({},i.pick(this.props.structuredAction,["text","svgString"]),i.pick(e,["fillColor","backgroundColor","textColor"]),{anchorData:s.renderLink(this.props.structuredAction.link,this.props.linkRenderInfo,this.props.rootNavigationInfo)});return t.createElement(r,o)},getSkinProperties:function(){return{"":{parentConst:this.createAction}}}}}),define("quickActionBar",["quickActionBar/components/quickActionBar","quickActionBar/components/quickActionBarItem"],function(i,t){return{quickActionBar:i,quickActionBarItem:t}});
//# sourceMappingURL=quickActionBar.min.js.map